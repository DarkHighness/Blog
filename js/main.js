$(function(){if($("#sidebar").hasClass("auto_open")?$(".sidebar-toc__content").children().length>0?$(".layout_post").animate({},function(){setTimeout(function(){$("#page-header").addClass("open-sidebar"),$("#toggle-sidebar").addClass("on"),$("body").animate({paddingLeft:300},200),$("#sidebar").animate({left:0},200),$("#toggle-sidebar").animate({},function(){$("#toggle-sidebar").css({transform:"rotateZ(180deg)",color:"#99a9bf",opacity:"1"})})},200)}):$("#toggle-sidebar").css("display","none"):$("#toggle-sidebar").css("opacity","1"),$("#toggle-sidebar").on("click",function(){if(!isMobile()&&$("#sidebar").is(":visible")){var e=$(this).hasClass("on");e?$(this).removeClass("on"):$(this).addClass("on"),e?($("#page-header").removeClass("open-sidebar"),$("body").animate({paddingLeft:0},200),$("#sidebar").animate({left:-300},200),$("#toggle-sidebar").animate({},function(){$("#toggle-sidebar").css({transform:"rotateZ(0deg)",color:"#1F2D3D"})})):($("#page-header").addClass("open-sidebar"),$("body").animate({paddingLeft:300},200),$("#sidebar").animate({left:0},200),$("#toggle-sidebar").animate({},function(){$("#toggle-sidebar").css({transform:"rotateZ(180deg)",color:"#99a9bf"})}))}}),/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)||$(".full_page .nav_bg").css("background-attachment","fixed"),$(".scroll-down").on("click",function(){scrollTo("#content-outer")}),$.fancyConfirm=function(e){e=$.extend(!0,{title:"Are you sure?",message:"",okButton:"OK",noButton:"Cancel",callback:$.noop},e||{}),$.fancybox.open({type:"html",src:'<div class="fc-content"><h3>'+e.title+"</h3><p>"+e.message+'</p><p class="is_right"><button data-value="1" data-fancybox-close class="bookmark-ok">'+e.okButton+"</button></p></div>",opts:{animationDuration:350,animationEffect:"material",modal:!0,baseTpl:'<div class="fancybox-container fc-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-stage"></div></div></div>'}})},$("#bookmark-it").click(function(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(document.title,window.location.href,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(location.href,document.title);else{if(window.opera&&window.print)return this.title=document.title,!0;$.fancyConfirm({title:GLOBAL_CONFIG.bookmark.title+"?",message:GLOBAL_CONFIG.bookmark.message_prev+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+"+ D "+GLOBAL_CONFIG.bookmark.message_next+".",okButton:"OK"})}}),$("figure.highlight").wrap('<div class="code-area-wrap"></div>'),"true"==GLOBAL_CONFIG.highlight_copy){var e=$('<i class="fa fa-clipboard" aria-hidden="true"></i>'),o=$('<div class="copy-notice"></div>');$(".code-area-wrap").prepend(e),$(".code-area-wrap").prepend(o),$(".code-area-wrap .fa-clipboard").on("click",function(){var e=window.getSelection(),o=document.createRange();o.selectNodeContents($(this).siblings("figure").find(".code pre")[0]),e.removeAllRanges(),e.addRange(o);e.toString();!function(e,o){if(document.queryCommandSupported&&document.queryCommandSupported("copy"))try{document.execCommand("copy"),$(o).prev(".copy-notice").text(GLOBAL_CONFIG.copy.success).animate({opacity:1,right:30},450,function(){setTimeout(function(){$(o).prev(".copy-notice").animate({opacity:0,right:0},650)},400)})}catch(e){return $(o).prev(".copy-notice").text(GLOBAL_CONFIG.copy.error).animate({opacity:1,right:30},650,function(){setTimeout(function(){$(o).prev(".copy-notice").animate({opacity:0,right:0},650)},400)}),!1}else $(o).prev(".copy-notice").text(GLOBAL_CONFIG.copy.noSupport)}(0,this),e.removeAllRanges()})}if("true"==GLOBAL_CONFIG.highlight_lang){var t,i,a=$('<div class="code_lang"></div>');$("figure").before(a),$("figure").each(function(){"js"==(t=i=$(this).attr("class").split(" ")[1])&&(i="javascript"),"md"==t&&(i="markdown"),"plain"==t&&(i="code"),"py"==t&&(i="python"),$(this).siblings(".code_lang").text(i)})}if("true"==GLOBAL_CONFIG.highlight_shrink)var n=$('<i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i>');else n=$('<i class="fa fa-angle-down code-expand" aria-hidden="true"></i>');$(".code-area-wrap").prepend(n),$(".code-area-wrap .code-expand").on("click",function(){$(this).hasClass("code-closed")?($(this).siblings("figure").find("table").show(),$(this).removeClass("code-closed")):($(this).siblings("figure").find("table").hide(),$(this).addClass("code-closed"))});var s=$(".recent-post-info  img").not(".no-fancybox");0===s.length&&(s=$("#post-content img").not(".no-fancybox"));for(var c=0;c<s.length;c++){var l=s[c].src?s[c].src:s.eq(c).attr("data-src"),d=$('<a href="'+l+'" data-fancybox="group" data-caption="'+s[c].alt+'" class="fancybox"></a>'),r=s[c].alt,f=$(s[c]).wrap(d);r&&f.after('<div class="img-alt">'+r+"</div>")}$().fancybox({selector:"[data-fancybox]",loop:!0,transitionEffect:"slide",protect:!0,buttons:["slideShow","fullScreen","thumbs","close"]});var g=$(".gallery-item"),h=[];function u(){$(".toggle-menu").hasClass("open")&&($(".toggle-menu").removeClass("open").addClass("close"),$("body").removeClass("open-mobile-menus"),$("#menu_mask").fadeOut())}function p(){$("#mobile-toc-button").hasClass("open")&&($("#mobile-toc-button").removeClass("open").addClass("close"),$("body").removeClass("open-mobile-toc"),$("#menu_mask").fadeOut())}g.each(function(e,o){h.push({src:$(o).data("url"),opts:{caption:$(o).data("title")}})}),g.on("click",function(){return $.fancybox.open(h,{loop:!0,transitionEffect:"slide"},g.index(this)),!1}),$(".toggle-menu").on("click",function(){$(".toggle-menu").hasClass("close")&&($(".toggle-menu").removeClass("close").addClass("open"),$("body").addClass("open-mobile-menus"),$("#menu_mask").fadeIn())}),$("#mobile-toc-button").on("click",function(){$("#mobile-toc-button").hasClass("close")&&($("#mobile-toc-button").removeClass("close").addClass("open"),$("body").addClass("open-mobile-toc"),$("#menu_mask").fadeIn())}),$("#menu_mask").on("click touchstart",function(){u(),p()}),$(window).on("resize",function(e){$(".toggle-menu").is(":visible")||u(),$("#mobile-toc-button").is(":visible")||p()}),$("#mobile-sidebar-toc a").on("click",function(){p()});var m=0;function b(){$(".recent-post-info").each(function(){var e=$(".recent-post-item").height(),o=$(this).height();$(this).css({"padding-top":(e-o)/2,"padding-bottom":(e-o)/2})})}$(".toc-child").hide(),$(window).scroll(throttle(function(e){var o=$(this).scrollTop();isMobile()||(function(e){var o=$("#content-outer").height(),t=$(window).height(),i=o>t?o-t:$(document).height()-t,a=e/i,n=Math.round(100*a),s=n>100?100:n;$(".progress-num").text(s),$(".sidebar-toc__progress-bar").animate({width:s+"%"},100)}(o),function(e){if(0===$(".toc-link").length)return!1;var o="";$("#post-content").find("h1,h2,h3,h4,h5,h6").each(function(){var t=$(this);e>t.offset().top-25&&(o="#"+$(this).attr("id"))}),""===o&&($(".toc-link").removeClass("active"),$(".toc-child").hide());var t=$(".toc-link.active");if(o&&t.attr("href")!==o){s=o,window.history.replaceState&&s!==window.location.hash&&window.history.replaceState(void 0,void 0,s),$(".toc-link").removeClass("active");var i=$('.toc-link[href="'+o+'"]');i.addClass("active");var a=i.parents(".toc-child"),n=a.length>0?a.last():i;!function(e){if(e.is(":visible"))return;e.fadeIn(400)}(n.closest(".toc-item").find(".toc-child")),n.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}var s}(o),function(e){if($(".toc-link").hasClass("active")){var o=$(".active").offset().top,t=$("#sidebar").scrollTop();o>e+$(window).height()-50?$("#sidebar").scrollTop(t+100):o<e+50&&$("#sidebar").scrollTop(t-100)}}(o));var t=function(e){var o=e>m;return m=e,o}(o);o>56?(t?$("#page-header").hasClass("visible")?$("#page-header").removeClass("visible"):console.log():$("#page-header").hasClass("visible")?console.log():$("#page-header").addClass("visible"),$("#page-header").addClass("fixed"),"0"===$("#rightside").css("opacity")&&$("#rightside").animate({},function(){$(this).css({opacity:"1",transform:"translateX(-38px)"})})):(0===o&&$("#page-header").removeClass("fixed").removeClass("visible"),$("#rightside").animate({},function(){$("#rightside").css({opacity:"",transform:""})}))},50,100)),$("#go-up").on("click",function(){scrollTo("body")}),$(".toc-link").on("click",function(e){var o;e.preventDefault(),o=$(this).attr("href"),scrollTo(o)}),$("#readmode").click(function(){"night"==Cookies.get("night-mode")?($("body").toggleClass("night-mode"),$("body").toggleClass("read-mode"),$("#to_comment").toggleClass("is_invisible")):($("body").toggleClass("read-mode"),$("#to_comment").toggleClass("is_invisible"))}),$("#font_plus").click(function(){var e=parseFloat($("body").css("font-size")),o=parseFloat($("pre").css("font-size")),t=parseFloat($("code").css("font-size"));$("body").css("font-size",e+1),$("pre").css("font-size",o+1),$("code").css("font-size",t+1)}),$("#font_minus").click(function(){var e=parseFloat($("body").css("font-size")),o=parseFloat($("pre").css("font-size")),t=parseFloat($("code").css("font-size"));$("body").css("font-size",e-1),$("pre").css("font-size",o-1),$("code").css("font-size",t-1)}),$(window).width()>768&&$(".menus_item_child").each(function(){var e=$(this).siblings("a").outerWidth(!0),o=$(this).outerWidth(!0);$(this).css("margin-left",-(o/2-e/2))}),$(".menus-expand").on("click",function(){$(this).hasClass("menus-closed")?($(this).parents(".menus_item").find(".menus_item_child").show(),$(this).removeClass("menus-closed")):($(this).parents(".menus_item").find(".menus_item_child").hide(),$(this).addClass("menus-closed"))}),$("#rightside_config").on("click",function(){$("#rightside-config-hide").toggleClass("rightside-in")}),$(window).width()>768&&b(),$(window).bind("resize",function(){$(window).width()>768&&b()});GLOBAL_CONFIG.copy_copyright_js;var v=GLOBAL_CONFIG.copyright;v&&(document.body.oncopy=(e=>{e.preventDefault();let o,t=window.getSelection(0).toString();return o=t.length>45?t+"\n\n\n"+v.languages.author+"\n"+v.languages.link+"\n"+v.languages.source+"\n"+v.languages.info:t,e.clipboardData?e.clipboardData.setData("text",o):window.clipboardData.setData("text",o)}))});